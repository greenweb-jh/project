<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>

        

        //화살표 함수내에서의 this의 차이점

        /*

        1) this키워드
        - 해당 키워드가 속한 객체를 참조할 때 사용

        ① 혼자 써있다면 전역 객체를 의미

        ② 함수에서는 전역 객체를 의미 

        ③ 메서드 내부에서는 메서드를 소유한 객체를 의미

        ④ 이벤트는 이벤트를 받는 객체 의미

        일반 함수에서는 함수를 호출할때 함수가 어떻게 호출되어있는지에 따라서 this의 객체가 다르게 설정된다.

        하지만 화살표함수내에서 this는 이미 함수를 선언할때 this에 객체가 정해져서 생성이된다.
        es5처럼 물리적인 요소로 this의 객체가 변경되지 않는다는 말이다.


        
        */

        var a = this; // this를 전역함수에서 사용할 경우
        console.log(a) //this는 곧 window를 출력한다.
        function thisFunction(){
            console.log(this)
        }
        thisFunction()
        /*
        A. window는 모든 전역변수, 함수, DOM을 보관하고 관리하는 전역객체이다.

        ◾ 즉, 자바스크립트 함수인 document.querySelector / alert/등등을 보관하는 큰 오브젝트이다.
        ◾ 주의할점은 strict mode 일 때 함수 안에서 사용하면 this는 undefined가 된다.
        */

        //메소드 안에서 this를 사용
        let thisName = {
            text : 'aaa',
            number : function () {console.log(this.text)} //f=function

        }
        thisName.number();
        //메소드 내에서 this는 해당 메소드를 가지고 있는 오브젝트를 의미한다.
        //this는 메소들을 담고 있는 요소가 된다. (this.오브젝트명)을 넣으면 해당 오브젝트를 출력


        window.x = 1;
        const normal = function () { return this.x; };
        const arrow = () => this.x;

        console.log(normal.call({ x: 10 })); // 10
        console.log(arrow.call({ x: 10 }));  // 1


    </script>
</head>
<body>
    
</body>
</html>